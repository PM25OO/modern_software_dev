# 第 5 周 — 使用 Warp 进行代理开发

使用 `week5/` 中的应用程序作为你的游乐场。本周反映了之前的作业，但强调了 Warp 代理开发环境和多代理工作流。

## 了解 Warp
- Warp 代理开发环境：[warp.dev](https://www.warp.dev/)
- [Warp 大学](https://www.warp.dev/university?slug=university)


## 探索入门应用程序
最小的全栈入门应用程序。
- 带有 SQLite (SQLAlchemy) 的 FastAPI 后端
- 静态前端（无需 Node 工具链）
- 最小测试 (pytest)
- 预提交 (black + ruff)
- 练习代理驱动工作流的任务

使用此应用程序作为你的游乐场，尝试你构建的 Warp 自动化。

### 结构

```
backend/                # FastAPI 应用程序
frontend/               # 由 FastAPI 服务的静态 UI
data/                   # SQLite 数据库 + 种子数据
docs/                   # 代理驱动工作流的任务
```

### 快速入门

1) 激活你的 conda 环境。

```bash
conda activate cs146s
```

2) (可选) 安装预提交钩子

```bash
pre-commit install
```

3) 运行应用程序（从 `week5/` 目录）

```bash
make run
```

4) 打开 `http://localhost:8000` 查看前端，打开 `http://localhost:8000/docs` 查看 API 文档。

5) 试用入门应用程序，了解其当前特性和功能。


### 测试
运行测试（从 `week5/` 目录）
```bash
make test
```

### 格式化/Linting
```bash
make format
make lint
```

## 第一部分：构建你的自动化（选择 2 个或更多）
从 `week5/docs/TASKS.md` 中选择要实施的任务。你的实施必须通过以下两种方式利用 Warp（详情如下）：

- A) 使用 Warp Drive 功能 — 例如保存的提示、规则或 MCP 服务器。
- (B) 在 Warp 中合并多代理工作流。

将你的更改集中在 `week5/` 内的后端、前端、逻辑或测试上。
对于每个选定的任务，请注明其难度级别。


### A) Warp Drive 保存的提示、规则、MCP 服务器（必需：至少一个）
创建一个或多个针对此存储库定制的可共享 Warp Drive 提示、规则或 MCP 服务器集成。示例：
- 带有覆盖率和不稳定测试重运行的测试运行器
- 文档同步：从 `/openapi.json` 生成/更新 `docs/API.md`，列出路由增量
- 重构工具：重命名模块，更新导入，运行 lint/测试
- 发布助手：提升版本，运行检查，准备变更日志片段
- 集成 Git MCP 服务器，让 Warp 自主与 Git 交互（创建分支、提交、PR 说明等）

>*提示：保持工作流专注，传递参数，使其幂等，并尽可能首选无头/非交互式步骤。*

### B) Warp 中的多代理工作流（必需：至少一个）
运行多代理会话，其中不同 Warp 选项卡中的单独代理并发处理独立任务。
- 使用并发代理在单独的 Warp 选项卡中执行 `TASKS.md` 中的多个自包含任务。挑战：你可以让多少个代理同时工作？

>*提示：[git worktree](https://git-scm.com/docs/git-worktree) 在这里可能会有所帮助，以防止代理相互干扰。*


## 第二部分：让你的自动化发挥作用
既然你已经构建了 2 个以上的自动化，让我们把它们投入使用！在 `writeup.md` 的 *“你如何使用自动化（它解决或加速了什么痛点）”* 部分下，描述你如何利用每个自动化来改进某些工作流。

## 约束和范围
严格在 `week5/`（后端、前端、逻辑、测试）中工作。避免更改其他周，除非自动化明确要求并且你记录了原因。


## 交付成果
1) 两个或更多 Warp 自动化，其中可能包括：
   - Warp Drive 工作流/规则（共享链接和/或导出的定义）和任何辅助脚本
   - 用于协调多个代理的任何补充提示/剧本

2) `week5/` 下的 `writeup.md`，其中包括：
   - 每个自动化的设计，包括目标、输入/输出、步骤
   - 之前与之后（即手动工作流与自动化工作流）
   - 每个已完成任务使用的自主级别（哪些代码权限，为什么，以及你如何监督）
   - （如果适用）多代理说明：角色、协调策略和并发胜利/风险/失败
   - 你如何使用自动化（它解决或加速了什么痛点）



## 提交说明
1. 确保你已将所有更改推送到远程存储库以进行评分。
2. **确保你已将 brentju 和 febielin 添加为作业存储库的协作者。**
2. 通过 Gradescope 提交。

